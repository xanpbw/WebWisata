<!DOCTYPE html>
<html lang="en">
<head>         <style> 
			   #maps {
               width: 900px;
               height: 500px;
               
          }</style>

      <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <title>Polygon Kota Bandung</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
        <link href="css/fileinput.css" rel="stylesheet">
        <link href="css/tampilan.css" rel="stylesheet">
        <link href="ext/customScroll/css/jquery.mCustomScrollbar.css" rel="stylesheet">
        <link href="css/style.default.css" rel="stylesheet">
<title>Polygon Array With Geocoder</title>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&key=AIzaSyABAiRMExl_KVCugrFbUO5FJwNTo_94vt0&libraries=places"></script>   
<script type="text/javascript">

 var triangleCoords = [
{lat : -6.750401310283457, lng : 107.3080062013941},
{lat : -6.750401310283457, lng : 107.304040903543},
{lat : -6.75415236876046, lng : 107.304040903543},
{lat : -6.75415236876046, lng : 107.3026142561376},
{lat : -6.745566787618135, lng : 107.3026142561376},
{lat : -6.745566787618135, lng : 107.2962708879642},
{lat : -6.742090062085334, lng : 107.2962708879642},
{lat : -6.742090062085334, lng : 107.2950060656093},
{lat : -6.744463156349509, lng : 107.2950060656093},
{lat : -6.744463156349509, lng : 107.299809705061},
{lat : -6.750912292322465, lng : 107.299809705061},
{lat : -6.750912292322465, lng : 107.2938286914696},
{lat : -6.763851964963294, lng : 107.2938286914696},
{lat : -6.763851964963294, lng : 107.2970007833506},
{lat : -6.773209983621171, lng : 107.2970007833506},
{lat : -6.773209983621171, lng : 107.2888558654112},
{lat : -6.775257674605282, lng : 107.2888558654112},
{lat : -6.775257674605282, lng : 107.2925592080585},
{lat : -6.787081462227038, lng : 107.2925592080585},
{lat : -6.787081462227038, lng : 107.3142302741921},
{lat : -6.80066394540312, lng : 107.3142302741921},
{lat : -6.80066394540312, lng : 107.322414698427},
{lat : -6.824659155531498, lng : 107.322414698427},
{lat : -6.824659155531498, lng : 107.3238781657474},
{lat : -6.853612435790483, lng : 107.3238781657474},
{lat : -6.853612435790483, lng : 107.3379158438935},
{lat : -6.857940667315932, lng : 107.3379158438935},
{lat : -6.857940667315932, lng : 107.3414424863861},
{lat : -6.853366659656571, lng : 107.3414424863861},
{lat : -6.853366659656571, lng : 107.349196895545},
{lat : -6.852650313541243, lng : 107.349196895545},
{lat : -6.852650313541243, lng : 107.3487869195219},
{lat : -6.864629936097735, lng : 107.3487869195219},
{lat : -6.864629936097735, lng : 107.3410521431274},
{lat : -6.885392569310158, lng : 107.3410521431274},
{lat : -6.885392569310158, lng : 107.3241438080375},
{lat : -6.887450672186171, lng : 107.3241438080375},
{lat : -6.887450672186171, lng : 107.3138004817512},
{lat : -6.901879761473189, lng : 107.3138004817512},
{lat : -6.901879761473189, lng : 107.2942971103796},
{lat : -6.910521075088146, lng : 107.2942971103796},
{lat : -6.910521075088146, lng : 107.2820934492148},
{lat : -6.924170702125812, lng : 107.2820934492148},
{lat : -6.924170702125812, lng : 107.2548457209147},
{lat : -6.928882920879892, lng : 107.2548457209147},
{lat : -6.928882920879892, lng : 107.2149012483276},
{lat : -6.942830163690629, lng : 107.2149012483276},
{lat : -6.942830163690629, lng : 107.2199638208468},
{lat : -6.9499111140738, lng : 107.2199638208468},
{lat : -6.9499111140738, lng : 107.1873938396847},
{lat : -6.970219458225939, lng : 107.1873938396847},
{lat : -6.970219458225939, lng : 107.1854748846218},
{lat : -6.986437031372362, lng : 107.1854748846218},
{lat : -6.986437031372362, lng : 107.1909337201206},
{lat : -6.992466564464276, lng : 107.1909337201206},
{lat : -6.992466564464276, lng : 107.184522308236},
{lat : -6.995622377053017, lng : 107.184522308236},
{lat : -6.995622377053017, lng : 107.1949426589589},
{lat : -7.020804346966, lng : 107.1949426589589},
{lat : -7.020804346966, lng : 107.1824603257183},
{lat : -7.059203257196266, lng : 107.1824603257183},
{lat : -7.059203257196266, lng : 107.2231014115831},
{lat : -7.058198015616892, lng : 107.2231014115831},
{lat : -7.058198015616892, lng : 107.2248328187926},
{lat : -7.049701439944244, lng : 107.2248328187926},
{lat : -7.049701439944244, lng : 107.2517568426507},
{lat : -7.050372890027183, lng : 107.2517568426507},
{lat : -7.050372890027183, lng : 107.2729878004553},
{lat : -7.07161692103451, lng : 107.2729878004553},
{lat : -7.07161692103451, lng : 107.2939745270424},
{lat : -7.089365272086717, lng : 107.2939745270424},
{lat : -7.089365272086717, lng : 107.2988969024938},
{lat : -7.084621819420043, lng : 107.2988969024938},
{lat : -7.084621819420043, lng : 107.3090178744042},
{lat : -7.093012681628407, lng : 107.3090178744042},
{lat : -7.093012681628407, lng : 107.3114233191337},
{lat : -7.107059380011433, lng : 107.3114233191337},
{lat : -7.107059380011433, lng : 107.3476720486938},
{lat : -7.109423020325031, lng : 107.3476720486938},
{lat : -7.109423020325031, lng : 107.3885397974543},
{lat : -7.122084482832741, lng : 107.3885397974543},
{lat : -7.122084482832741, lng : 107.4070675874467},
{lat : -7.108951555975433, lng : 107.4070675874467},
{lat : -7.108951555975433, lng : 107.4083193403614},
{lat : -7.090025000255686, lng : 107.4083193403614},
{lat : -7.090025000255686, lng : 107.4216538723265},
{lat : -7.07586206981503, lng : 107.4216538723265},
{lat : -7.07586206981503, lng : 107.4197959970015},
{lat : -7.061057522024198, lng : 107.4197959970015},
{lat : -7.061057522024198, lng : 107.4486992376664},
{lat : -7.049457361538985, lng : 107.4486992376664},
{lat : -7.049457361538985, lng : 107.4773713002804},
{lat : -7.056396056441128, lng : 107.4773713002804},
{lat : -7.056396056441128, lng : 107.4754938709127},
{lat : -7.040306503204853, lng : 107.4754938709127},
{lat : -7.040306503204853, lng : 107.4772652871188},
{lat : -7.039156948429109, lng : 107.4772652871188},
{lat : -7.039156948429109, lng : 107.4780746826906},
{lat : -7.036734906574059, lng : 107.4780746826906},
{lat : -7.036734906574059, lng : 107.4804092023756},
{lat : -7.035026822052249, lng : 107.4804092023756},
{lat : -7.035026822052249, lng : 107.4815062659808},
{lat : -7.023380568671329, lng : 107.4815062659808},
{lat : -7.023380568671329, lng : 107.4790117159083},
{lat : -7.02222194816591, lng : 107.4790117159083},
{lat : -7.02222194816591, lng : 107.4758127281987},
{lat : -7.018287631613407, lng : 107.4758127281987},
{lat : -7.018287631613407, lng : 107.477201779166},
{lat : -7.013115489856708, lng : 107.477201779166},
{lat : -7.013115489856708, lng : 107.4744799606769},
{lat : -7.008483281559858, lng : 107.4744799606769},
{lat : -7.008483281559858, lng : 107.4783003862683},
{lat : -7.003122560541516, lng : 107.4783003862683},
{lat : -7.003122560541516, lng : 107.4863343639497},
{lat : -6.999902582895723, lng : 107.4863343639497},
{lat : -6.999902582895723, lng : 107.4875767950751},
{lat : -6.995086108974393, lng : 107.4875767950751},
{lat : -6.995086108974393, lng : 107.485381290808},
{lat : -6.985939162964308, lng : 107.485381290808},
{lat : -6.985939162964308, lng : 107.4878708819807},
{lat : -6.979366605948513, lng : 107.4878708819807},
{lat : -6.979366605948513, lng : 107.4933855720902},
{lat : -6.979308028945227, lng : 107.4933855720902},
{lat : -6.979308028945227, lng : 107.4989555487592},
{lat : -6.977604377854361, lng : 107.4989555487592},
{lat : -6.977604377854361, lng : 107.5002997289522},
{lat : -6.98038753752239, lng : 107.5002997289522},
{lat : -6.98038753752239, lng : 107.5017954620061},
{lat : -6.980483962738058, lng : 107.5017954620061},
{lat : -6.980483962738058, lng : 107.5034496416611},
{lat : -6.982672766919317, lng : 107.5034496416611},
{lat : -6.982672766919317, lng : 107.5048385837567},
{lat : -6.981707027905248, lng : 107.5048385837567},
{lat : -6.981707027905248, lng : 107.5040053528022},
{lat : -6.979363649582925, lng : 107.5040053528022},
{lat : -6.979363649582925, lng : 107.5060639540548},
{lat : -6.979735545491564, lng : 107.5060639540548},
{lat : -6.979735545491564, lng : 107.5082685169887},
{lat : -6.976935016509049, lng : 107.5082685169887},
{lat : -6.976935016509049, lng : 107.5094336146719},
{lat : -6.969743668319155, lng : 107.5094336146719},
{lat : -6.969743668319155, lng : 107.5143786557452},
{lat : -6.963442674067025, lng : 107.5143786557452},
{lat : -6.963442674067025, lng : 107.515217896895},
{lat : -6.96483241569143, lng : 107.515217896895},
{lat : -6.96483241569143, lng : 107.5189358679821},
{lat : -6.963877286640932, lng : 107.5189358679821},
{lat : -6.963877286640932, lng : 107.5178519255883},
{lat : -6.959679156909107, lng : 107.5178519255883},
{lat : -6.959679156909107, lng : 107.5214819416248},
{lat : -6.957330064098948, lng : 107.5214819416248},
{lat : -6.957330064098948, lng : 107.5182677799865},
{lat : -6.955936184476941, lng : 107.5182677799865},
{lat : -6.955936184476941, lng : 107.5217220795474},
{lat : -6.954486946626646, lng : 107.5217220795474},
{lat : -6.954486946626646, lng : 107.524096537372},
{lat : -6.951536153851542, lng : 107.524096537372},
{lat : -6.951536153851542, lng : 107.5256478613005},
{lat : -6.944487359558511, lng : 107.5256478613005},
{lat : -6.944487359558511, lng : 107.5319592386693},
{lat : -6.941776400571118, lng : 107.5319592386693},
{lat : -6.941776400571118, lng : 107.5315413607198},
{lat : -6.939375637968097, lng : 107.5315413607198},
{lat : -6.939375637968097, lng : 107.5231070543781},
{lat : -6.935343805994676, lng : 107.5231070543781},
{lat : -6.935343805994676, lng : 107.5221382852271},
{lat : -6.929235029161162, lng : 107.5221382852271},
{lat : -6.929235029161162, lng : 107.5249442385275},
{lat : -6.925347621153573, lng : 107.5249442385275},
{lat : -6.925347621153573, lng : 107.5234246646663},
{lat : -6.923204104237052, lng : 107.5234246646663},
{lat : -6.923204104237052, lng : 107.525102999741},
{lat : -6.92032363635619, lng : 107.525102999741},
{lat : -6.92032363635619, lng : 107.5180600792925},
{lat : -6.915009187547289, lng : 107.5180600792925},
{lat : -6.915009187547289, lng : 107.5206109596737},
{lat : -6.910892627113779, lng : 107.5206109596737},
{lat : -6.910892627113779, lng : 107.5182371635527},
{lat : -6.908674777612359, lng : 107.5182371635527},
{lat : -6.908674777612359, lng : 107.5146137740151},
{lat : -6.904107522605565, lng : 107.5146137740151},
{lat : -6.904107522605565, lng : 107.5107969424971},
{lat : -6.901150905294253, lng : 107.5107969424971},
{lat : -6.901150905294253, lng : 107.5107829854287},
{lat : -6.89612729572529, lng : 107.5107829854287},
{lat : -6.89612729572529, lng : 107.5128688296841},
{lat : -6.895545402060709, lng : 107.5128688296841},
{lat : -6.895545402060709, lng : 107.5147065270435},
{lat : -6.891810891414181, lng : 107.5147065270435},
{lat : -6.891810891414181, lng : 107.5169516453467},
{lat : -6.892232839180558, lng : 107.5169516453467},
{lat : -6.892232839180558, lng : 107.5172361785267},
{lat : -6.889878807365873, lng : 107.5172361785267},
{lat : -6.889878807365873, lng : 107.5175238899489},
{lat : -6.884200867642026, lng : 107.5175238899489},
{lat : -6.884200867642026, lng : 107.5202090667688},
{lat : -6.878488138711741, lng : 107.5202090667688},
{lat : -6.878488138711741, lng : 107.5189625313092},
{lat : -6.875031439119839, lng : 107.5189625313092},
{lat : -6.875031439119839, lng : 107.5222186707874},
{lat : -6.873720115886617, lng : 107.5222186707874},
{lat : -6.873720115886617, lng : 107.5234755613048},
{lat : -6.872370078429471, lng : 107.5234755613048},
{lat : -6.872370078429471, lng : 107.5247403433837},
{lat : -6.873900201145916, lng : 107.5247403433837},
{lat : -6.873900201145916, lng : 107.5264169358803},
{lat : -6.868058208328479, lng : 107.5264169358803},
{lat : -6.868058208328479, lng : 107.523031859166},
{lat : -6.865268780802858, lng : 107.523031859166},
{lat : -6.865268780802858, lng : 107.5306800714813},
{lat : -6.864066069796391, lng : 107.5306800714813},
{lat : -6.864066069796391, lng : 107.5333496414527},
{lat : -6.859386035187872, lng : 107.5333496414527},
{lat : -6.859386035187872, lng : 107.5358218819494},
{lat : -6.858759185805506, lng : 107.5358218819494},
{lat : -6.858759185805506, lng : 107.5378092145324},
{lat : -6.851861187054781, lng : 107.5378092145324},
{lat : -6.851861187054781, lng : 107.5322150681975},
{lat : -6.850048818392124, lng : 107.5322150681975},
{lat : -6.850048818392124, lng : 107.5377665403415},
{lat : -6.842918566320112, lng : 107.5377665403415},
{lat : -6.842918566320112, lng : 107.5400013552994},
{lat : -6.834395221452848, lng : 107.5400013552994},
{lat : -6.834395221452848, lng : 107.5457121084954},
{lat : -6.83217428800574, lng : 107.5457121084954},
{lat : -6.83217428800574, lng : 107.5497900330808},
{lat : -6.833390757461118, lng : 107.5497900330808},
{lat : -6.833390757461118, lng : 107.549422185629},
{lat : -6.840327964306601, lng : 107.549422185629},
{lat : -6.840327964306601, lng : 107.5553759772308},
{lat : -6.840923775818271, lng : 107.5553759772308},
{lat : -6.840923775818271, lng : 107.5511745799666},
{lat : -6.848533407685579, lng : 107.5511745799666},
{lat : -6.848533407685579, lng : 107.5556209562762},
{lat : -6.854428092023206, lng : 107.5556209562762},
{lat : -6.854428092023206, lng : 107.5624301802675},
{lat : -6.855759014318332, lng : 107.5624301802675},
{lat : -6.855759014318332, lng : 107.5666708632153},
{lat : -6.862418313480086, lng : 107.5666708632153},
{lat : -6.862418313480086, lng : 107.56174689124},
{lat : -6.87246614911051, lng : 107.56174689124},
{lat : -6.87246614911051, lng : 107.5646679759513},
{lat : -6.875628404415106, lng : 107.5646679759513},
{lat : -6.875628404415106, lng : 107.5699886388675},
{lat : -6.877376875392598, lng : 107.5699886388675},
{lat : -6.877376875392598, lng : 107.5703233856787},
{lat : -6.882555854526351, lng : 107.5703233856787},
{lat : -6.882555854526351, lng : 107.5716254010969},
{lat : -6.882435347757513, lng : 107.5716254010969},
{lat : -6.882435347757513, lng : 107.5781623271672},
{lat : -6.864121947621748, lng : 107.5781623271672},
{lat : -6.864121947621748, lng : 107.588284402401},
{lat : -6.859183212218281, lng : 107.588284402401},
{lat : -6.859183212218281, lng : 107.5903264268543},
{lat : -6.850256186798669, lng : 107.5903264268543},
{lat : -6.850256186798669, lng : 107.5943271794029},
{lat : -6.841869802776252, lng : 107.5943271794029},
{lat : -6.841869802776252, lng : 107.5978705028835},
{lat : -6.837196149970514, lng : 107.5978705028835},
{lat : -6.837196149970514, lng : 107.5973722624991},
{lat : -6.843078083544816, lng : 107.5973722624991},
{lat : -6.843078083544816, lng : 107.6008510071006},
{lat : -6.842778101877576, lng : 107.6008510071006},
{lat : -6.842778101877576, lng : 107.6029419677369},
{lat : -6.84589930170088, lng : 107.6029419677369},
{lat : -6.84589930170088, lng : 107.6021030851154},
{lat : -6.854494127759165, lng : 107.6021030851154},
{lat : -6.854494127759165, lng : 107.6048188372581},
{lat : -6.859777404885877, lng : 107.6048188372581},
{lat : -6.859777404885877, lng : 107.6083700557731},
{lat : -6.855363105836777, lng : 107.6083700557731},
{lat : -6.855363105836777, lng : 107.6112959571955},
{lat : -6.850095683663099, lng : 107.6112959571955},
{lat : -6.850095683663099, lng : 107.6157137499628},
{lat : -6.848305126323693, lng : 107.6157137499628},
{lat : -6.848305126323693, lng : 107.6186247466533},
{lat : -6.850381775088439, lng : 107.6186247466533},
{lat : -6.850381775088439, lng : 107.6216018999364},
{lat : -6.855840586212077, lng : 107.6216018999364},
{lat : -6.855840586212077, lng : 107.6247056916404},
{lat : -6.849183764840409, lng : 107.6247056916404},
{lat : -6.849183764840409, lng : 107.6289363856813},
{lat : -6.856823928861932, lng : 107.6289363856813},
{lat : -6.856823928861932, lng : 107.638683690815},
{lat : -6.853320156496419, lng : 107.638683690815},
{lat : -6.853320156496419, lng : 107.6447311834913},
{lat : -6.847413668810154, lng : 107.6447311834913},
{lat : -6.847413668810154, lng : 107.6613565604181},
{lat : -6.832019458182773, lng : 107.6613565604181},
{lat : -6.832019458182773, lng : 107.6935075755377},
{lat : -6.829987567787359, lng : 107.6935075755377},
{lat : -6.829987567787359, lng : 107.6954533054528},
{lat : -6.836491672872491, lng : 107.6954533054528},
{lat : -6.836491672872491, lng : 107.7046408204874},
{lat : -6.839886990221892, lng : 107.7046408204874},
{lat : -6.839886990221892, lng : 107.7127484270907},
{lat : -6.83349094770498, lng : 107.7127484270907},
{lat : -6.83349094770498, lng : 107.7184699050653},
{lat : -6.834529596882875, lng : 107.7184699050653},
{lat : -6.834529596882875, lng : 107.7193099682625},
{lat : -6.83004505254821, lng : 107.7193099682625},
{lat : -6.83004505254821, lng : 107.7212105204262},
{lat : -6.830234012082683, lng : 107.7212105204262},
{lat : -6.830234012082683, lng : 107.7215416174025},
{lat : -6.828938202664796, lng : 107.7215416174025},
{lat : -6.828938202664796, lng : 107.7204348904183},
{lat : -6.825804975234841, lng : 107.7204348904183},
{lat : -6.825804975234841, lng : 107.7187909231326},
{lat : -6.825045499363293, lng : 107.7187909231326},
{lat : -6.825045499363293, lng : 107.7219949862628},
{lat : -6.820245317368593, lng : 107.7219949862628},
{lat : -6.820245317368593, lng : 107.7246470902494},
{lat : -6.818853048664405, lng : 107.7246470902494},
{lat : -6.818853048664405, lng : 107.7258625808033},
{lat : -6.813727144356987, lng : 107.7258625808033},
{lat : -6.813727144356987, lng : 107.7264398041259},
{lat : -6.805117704619247, lng : 107.7264398041259},
{lat : -6.805117704619247, lng : 107.7221694001417},
{lat : -6.800262474404225, lng : 107.7221694001417},
{lat : -6.800262474404225, lng : 107.7111538340057},
{lat : -6.79742389064497, lng : 107.7111538340057},
{lat : -6.79742389064497, lng : 107.7077798137086},
{lat : -6.792916922349599, lng : 107.7077798137086},
{lat : -6.792916922349599, lng : 107.7012870359095},
{lat : -6.793104071664098, lng : 107.7012870359095},
{lat : -6.793104071664098, lng : 107.688242974899},
{lat : -6.798551203288237, lng : 107.688242974899},
{lat : -6.798551203288237, lng : 107.6722532907414},
{lat : -6.780787528164509, lng : 107.6722532907414},
{lat : -6.780787528164509, lng : 107.6723239903351},
{lat : -6.777349978168815, lng : 107.6723239903351},
{lat : -6.777349978168815, lng : 107.6709769607705},
{lat : -6.776350289485899, lng : 107.6709769607705},
{lat : -6.776350289485899, lng : 107.6696524428841},
{lat : -6.777142946758588, lng : 107.6696524428841},
{lat : -6.777142946758588, lng : 107.6675864474283},
{lat : -6.77615970869889, lng : 107.6675864474283},
{lat : -6.77615970869889, lng : 107.6568869304564},
{lat : -6.77298179277753, lng : 107.6568869304564},
{lat : -6.77298179277753, lng : 107.6506859344457},
{lat : -6.77325533162164, lng : 107.6506859344457},
{lat : -6.77325533162164, lng : 107.649706036385},
{lat : -6.772361988092086, lng : 107.649706036385},
{lat : -6.772361988092086, lng : 107.6462395590316},
{lat : -6.772565995628533, lng : 107.6462395590316},
{lat : -6.772565995628533, lng : 107.6422218010198},
{lat : -6.77428240694677, lng : 107.6422218010198},
{lat : -6.77428240694677, lng : 107.6278638199506},
{lat : -6.77379841819312, lng : 107.6278638199506},
{lat : -6.77379841819312, lng : 107.6202825089581},
{lat : -6.764323853697889, lng : 107.6202825089581},
{lat : -6.764323853697889, lng : 107.6174845433064},
{lat : -6.763179572399817, lng : 107.6174845433064},
{lat : -6.763179572399817, lng : 107.618319342228},
{lat : -6.762991245228101, lng : 107.618319342228},
{lat : -6.762991245228101, lng : 107.6178573972281},
{lat : -6.761634088155097, lng : 107.6178573972281},
{lat : -6.761634088155097, lng : 107.6185505313619},
{lat : -6.760193565184967, lng : 107.6185505313619},
{lat : -6.760193565184967, lng : 107.6142991873338},
{lat : -6.759256371159053, lng : 107.6142991873338},
{lat : -6.759256371159053, lng : 107.6104801043836},
{lat : -6.759045571645542, lng : 107.6104801043836},
{lat : -6.759045571645542, lng : 107.6006220698242},
{lat : -6.76108299088821, lng : 107.6006220698242},
{lat : -6.76108299088821, lng : 107.5998440064349},
{lat : -6.757929680900672, lng : 107.5998440064349},
{lat : -6.757929680900672, lng : 107.6009771971166},
{lat : -6.753951288427651, lng : 107.6009771971166},
{lat : -6.753951288427651, lng : 107.6036769940111},
{lat : -6.752002250247526, lng : 107.6036769940111},
{lat : -6.752002250247526, lng : 107.6042129376247},
{lat : -6.74950751096122, lng : 107.6042129376247},
{lat : -6.74950751096122, lng : 107.6032511754612},
{lat : -6.743875585964201, lng : 107.6032511754612},
{lat : -6.743875585964201, lng : 107.6018333629955},
{lat : -6.739428554876546, lng : 107.6018333629955},
{lat : -6.739428554876546, lng : 107.602404071177},
{lat : -6.73600567220835, lng : 107.602404071177},
{lat : -6.73600567220835, lng : 107.6000951822361},
{lat : -6.73142727732697, lng : 107.6000951822361},
{lat : -6.73142727732697, lng : 107.5979028030941},
{lat : -6.730114049054614, lng : 107.5979028030941},
{lat : -6.730114049054614, lng : 107.5916873365184},
{lat : -6.727977167562688, lng : 107.5916873365184},
{lat : -6.727977167562688, lng : 107.5844486912678},
{lat : -6.726789159339528, lng : 107.5844486912678},
{lat : -6.726789159339528, lng : 107.577251364129},
{lat : -6.729903042853453, lng : 107.577251364129},
{lat : -6.729903042853453, lng : 107.5747910725825},
{lat : -6.734334527848367, lng : 107.5747910725825},
{lat : -6.734334527848367, lng : 107.5714147594344},
{lat : -6.736110546990153, lng : 107.5714147594344},
{lat : -6.736110546990153, lng : 107.5682338287679},
{lat : -6.744638830186307, lng : 107.5682338287679},
{lat : -6.744638830186307, lng : 107.572595126636},
{lat : -6.74590121277834, lng : 107.572595126636},
{lat : -6.74590121277834, lng : 107.5719666926404},
{lat : -6.76201774248236, lng : 107.5719666926404},
{lat : -6.76201774248236, lng : 107.5756012461741},
{lat : -6.762771425646087, lng : 107.5756012461741},
{lat : -6.762771425646087, lng : 107.5783584305739},
{lat : -6.775915967204894, lng : 107.5783584305739},
{lat : -6.775915967204894, lng : 107.5750203922414},
{lat : -6.777021489193553, lng : 107.5750203922414},
{lat : -6.777021489193553, lng : 107.5709103129187},
{lat : -6.770761585688254, lng : 107.5709103129187},
{lat : -6.770761585688254, lng : 107.5657767911539},
{lat : -6.772194586026302, lng : 107.5657767911539},
{lat : -6.772194586026302, lng : 107.5626765177182},
{lat : -6.77399708322265, lng : 107.5626765177182},
{lat : -6.77399708322265, lng : 107.5591877433387},
{lat : -6.772657543008222, lng : 107.5591877433387},
{lat : -6.772657543008222, lng : 107.5537310229449},
{lat : -6.774878236058675, lng : 107.5537310229449},
{lat : -6.774878236058675, lng : 107.549652455376},
{lat : -6.773304572052963, lng : 107.549652455376},
{lat : -6.773304572052963, lng : 107.5413822544404},
{lat : -6.764113843666399, lng : 107.5413822544404},
{lat : -6.764113843666399, lng : 107.5305206808345},
{lat : -6.763286887334203, lng : 107.5305206808345},
{lat : -6.763286887334203, lng : 107.5218355895866},
{lat : -6.746376652395783, lng : 107.5218355895866},
{lat : -6.746376652395783, lng : 107.5134178823354},
{lat : -6.743150437831079, lng : 107.5134178823354},
{lat : -6.743150437831079, lng : 107.5031219503586},
{lat : -6.736976809083863, lng : 107.5031219503586},
{lat : -6.736976809083863, lng : 107.4895211458979},
{lat : -6.735215490319272, lng : 107.4895211458979},
{lat : -6.735215490319272, lng : 107.4700754035734},
{lat : -6.717414285699999, lng : 107.4700754035734},
{lat : -6.717414285699999, lng : 107.4532893237771},
{lat : -6.700666112396698, lng : 107.4532893237771},
{lat : -6.700666112396698, lng : 107.4388013090776},
{lat : -6.701136264298039, lng : 107.4388013090776},
{lat : -6.701136264298039, lng : 107.4266166929941},
{lat : -6.69988355228321, lng : 107.4266166929941},
{lat : -6.69988355228321, lng : 107.4183501255129},
{lat : -6.691418291590765, lng : 107.4183501255129},
{lat : -6.691418291590765, lng : 107.4084700416964},
{lat : -6.689057928425667, lng : 107.4084700416964},
{lat : -6.689057928425667, lng : 107.404391943266},
{lat : -6.692464973558042, lng : 107.404391943266},
{lat : -6.692464973558042, lng : 107.3958601157404},
{lat : -6.69640754376149, lng : 107.3958601157404},
{lat : -6.69640754376149, lng : 107.3810595854001},
{lat : -6.690503427642187, lng : 107.3810595854001},
{lat : -6.690503427642187, lng : 107.3727207239696},
{lat : -6.691292683189561, lng : 107.3727207239696},
{lat : -6.691292683189561, lng : 107.3716542136795},
{lat : -6.700116382002391, lng : 107.3716542136795},
{lat : -6.700116382002391, lng : 107.3625216171385},
{lat : -6.703484728696101, lng : 107.3625216171385},
{lat : -6.703484728696101, lng : 107.3514949799064},
{lat : -6.696566136793372, lng : 107.3514949799064},
{lat : -6.696566136793372, lng : 107.343375932089},
{lat : -6.699704154505986, lng : 107.343375932089},
{lat : -6.699704154505986, lng : 107.340176354434},
{lat : -6.7161753051952, lng : 107.340176354434},
{lat : -6.7161753051952, lng : 107.3426857446223},
{lat : -6.719262973402765, lng : 107.3426857446223},
{lat : -6.719262973402765, lng : 107.333939901401},
{lat : -6.7203741553096, lng : 107.333939901401},
{lat : -6.7203741553096, lng : 107.3326942952697},
{lat : -6.72267679795909, lng : 107.3326942952697},
{lat : -6.72267679795909, lng : 107.3267962658213},
{lat : -6.726261365930716, lng : 107.3267962658213},
{lat : -6.726261365930716, lng : 107.3293015115633},
{lat : -6.729616708145272, lng : 107.3293015115633},
{lat : -6.729616708145272, lng : 107.3095092628898},
{lat : -6.733512858735634, lng : 107.3095092628898},
{lat : -6.733512858735634, lng : 107.3080062013941},
{lat : -6.750401310283457, lng : 107.3080062013941},
{lat : -6.750401310283457, lng : 107.3080062013941}

    ];   

    
   

function init(){
 //var info_window = new google.maps.InfoWindow();
 
 // membuat peta
 var map = new google.maps.Map(document.getElementById('maps'),{
  'center': {lat : -6.91757808164908, lng : 107.60850421142572},
  'zoom': 12,
   scaleControl : true,
  'mapTypeId': google.maps.MapTypeId.ROADMAP
  });
  /*info_window = new google.maps.InfoWindow({
  'content': 'loading...'
 });*/
 
 var polygon = new google.maps.Polygon({
      path:triangleCoords,
      strokeColor: '#000000',
      strokeOpacity: 0.8,
      strokeWeight: 3,
      fillColor: '#FFFF00',
      fillOpacity: 0.20
      });

 polygon.setMap(map);

 polygon.addListener('click', showArrays);

}


  
  function updateMarkerPosition(latLng) {
       document.getElementById('lat').value = [latLng.lat()];//posisi marker mengikuti nilai latitude yang di klik/pilih 
       document.getElementById('lng').value = [latLng.lng()];////posisi marker mengikuti nilai longitude yang di klik/pilih
  }

  var gmarkers = [];
    
  function showArrays(event) {
      
    //jquery
      $("#lat").val(event.latLng.lat());//mengambil nilai latitude dan ditampilkan nantinya di form input
      $("#lng").val(event.latLng.lng());//mengambil nilai longitude dan ditampilkan nantinya di form input

    

      //inisialisasi marker      
      var marker1 = new google.maps.Marker({
        position : new google.maps.LatLng(event.latLng.lat(), event.latLng.lng()),
        title : 'lokasi',
        map : map,
        draggable : false
      });
      removeMarkers();
      gmarkers.push(marker1);
      
  }

  //fungsi hapus marker. marker akan dihapus ketika klik pada posisi yang lain.
  function removeMarkers(){
        for(i=0; i<gmarkers.length; i++){
            gmarkers[i].setMap(null);
        }
  }

function cari_alamat(){

 google.maps.Polygon.prototype.Contains = function (point) {
    var crossings = 0,
        path = this.getPath();

    // for each edge
      for (var i = 0; i < path.getLength(); i++) {
        var a = path.getAt(i),
            j = i + 1;
        if (j >= path.getLength()) {
            j = 0;
        }
        var b = path.getAt(j);
        if (rayCrossesSegment(point, a, b)) {
            crossings++;
        }
      }

    // odd number of crossings?
    return (crossings % 2 == 1);

    function rayCrossesSegment(point, a, b) {
        var px = point.lng(),
            py = point.lat(),
            ax = a.lng(),
            ay = a.lat(),
            bx = b.lng(),
            by = b.lat();
        if (ay > by) {
            ax = b.lng();
            ay = b.lat();
            bx = a.lng();
            by = a.lat();
        }
        // alter longitude to cater for 180 degree crossings
        if (px < 0) {
            px += 360;
        }
        if (ax < 0) {
            ax += 360;
        }
        if (bx < 0) {
            bx += 360;
        }

        if (py == ay || py == by) py += 0.00000001;
        if ((py > by || py < ay) || (px > Math.max(ax, bx))) return false;
        if (px < Math.min(ax, bx)) return true;

        var red = (ax != bx) ? ((by - ay) / (bx - ax)) : Infinity;
        var blue = (ax != px) ? ((py - ay) / (px - ax)) : Infinity;
        return (blue >= red);

    }

 };

 // mengambil isi dari textarea dengan id alamat
 var alamat = document.getElementById('alamat').value;

 // membuat geocoder
 var geocoder = new google.maps.Geocoder();
 geocoder.geocode(
  {'address': alamat}, 
  function(results, status) { 
   if (status == google.maps.GeocoderStatus.OK) {
    var info_window = new google.maps.InfoWindow();

    // mendapatkan lokasi koordinat
    var geo = results[0].geometry.location;

    // set koordinat
    var pos = new google.maps.LatLng(geo.lat(),geo.lng());

    //cek lat long di dalam polygon
    var point = new google.maps.LatLng(geo.lat(),geo.lng());
    
    var polygon = new google.maps.Polygon({
            path:triangleCoords,
            strokeColor: '#000000',
            strokeOpacity: 0.8,
            strokeWeight: 3,
            fillColor: '#FFFF00',
            fillOpacity: 0.20
            });
          
         if (polygon.Contains(point)) {
              // point is inside polygon
              
            // menampilkan latitude dan longitude pada id lat dan lng
            var lat = document.getElementById('lat').value = geo.lat();
            var lng = document.getElementById('lng').value = geo.lng();

             // membuat peta
            var map = new google.maps.Map(document.getElementById('maps'),{
              'center': pos,
              'zoom': 17,
              'mapTypeId': google.maps.MapTypeId.ROADMAP
             });
            polygon.setMap(map);      

            // menambahkan marker pada peta
            var marker = new google.maps.Marker({
             position: pos,
             title: alamat,
             animation:google.maps.Animation.BOUNCE
            });
            marker.setMap(map);

            // menambahkan event click ketika marker di klik
            google.maps.event.addListener(marker, 'click', function () {
             info_window.setContent('<b>'+ this.title +'</b>');
             info_window.open(map, this);
            });    
          } else {
            alert('Mohon Maaf Lokasi yang Anda Masukan diluar Kota Bandung');
              var lat = document.getElementById('lat').value = "";
            var lng = document.getElementById('lng').value = "";  
          }
    
   } else {
     alert('Lokasi Tidak Ditemukan'); 
   } 
  }
 );
}
google.maps.event.addDomListener(window, 'load', init);

var htmlobjek;
$(document).ready(function(){
$("#propinsi").change(function(){
var propinsi = $("#propinsi").val();
$.ajax({
url: "ambilkota.php",
data: "propinsi="+propinsi,
cache: false,
success: function(msg){
//jika data sukses diambil dari server kita tampilkan
//di <select id=kota>
$("#kota").html(msg);
}
});
});
$("#kota").change(function(){
var kota = $("#kota").val();
$.ajax({
url: "ambilkecamatan.php",
data: "kota="+kota,
cache: false,
success: function(msg){
$("#kec").html(msg);
}
});
});
});

</script>
</head>

<?php
 include("lib_func.php");
 include ("koneksi.php");
 $kab="4";
 //var_dump($_SESSION);
?>

<body>
    <div id="maps" style="width: 960px; height: 520px; left: 20px" ></div>
    <br>
    <div class="col-md-6">
          <textarea rows="4" cols="50" id="alamat" placeholder="Cari alamat"></textarea>
          <br>
          <button class="btn btn-primary" onclick="cari_alamat()">CARI ALAMAT</button>
          <br><br><br>
    </div>
<form method="post" action="<?=$_SERVER ["PHP_SELF"]?>" enctype="multipart/form-data">  
      <div class="col-md-6">
          
          Latitude <br>
          <input type="text" name="latitude" id="lat"><br>
          Longitude <br>
          <input type="text" name="longitude" id="lng"><br>
          Nama Tempat Wisata
          <input type=text name="nama" size=40 maxlength="60"><br>
          Alamat Tempat Wisata
          <input type=text name="alamat" size=40 maxlength="60"><br>
		  Kategori<br>
          <select name="kat">
		<?php 	
		$query = "SELECT * FROM t_kategori"; 
		$sql = mysqli_query($connect, $query); 	
		while($data = mysqli_fetch_array($sql)){ 
		echo "<option value='".$data['nm']."'>".$data['nkat']."</option>";		
		}?>
		  </select><br>
		  Kecamatan<br>
        <select name="kota" id="kota">
		  <option>--Pilih Kecamatan-</option>
			<?php 	
			$query = "SELECT * FROM t_kecamatan where id_kabupaten='".$kab."'"; 
			$sql = mysqli_query($connect, $query); 	
			while($data = mysqli_fetch_array($sql)){ 
			echo "<option value='".$data['id_kecamatan']."'>".$data['nm_kecamatan']."</option>";		
			}?>
		</select><br>
		  Kelurahan<br>
	<select name="kec" id="kec">
	<option>--Pilih Kelurahan--</option>
	</select><br>
		  Harga Dewasa<br>
          Rp.<input type=text name="hd" size=20 maxlength="60"><br>
		  Harga Anak-anak<br>
          Rp.<input type=text name="ha" size=20 maxlength="60"><br>
		  <br><br>
          <input class="btn btn-primary" type="submit" value="Simpan" name="Simpan">
          <input class="btn btn-primary" type="reset" value="Ulangi">
      </div>
</form>
      <?php 
			$q = "SELECT * FROM t_pemilik WHERE email='".$_SESSION["Username"]."'"; 
			$s = mysqli_query($connect, $q); 	
			$datas = mysqli_fetch_array($s);
			$ktp = $datas['idktp'];
            if(isset($_POST['Simpan'])){     
               $lat=$_POST['latitude'];
               $long=$_POST['longitude'];
               $nama=$_POST['nama'];
			   $alt=$_POST['alamat'];
			   $cat=$_POST['kat'];
               $kabu="1";
			   $kec=$_POST['kota'];
			   $kel=$_POST['kec'];
			   $hde=$_POST['hd'];
			   $han=$_POST['ha'];
				
                $conn = koneksi();
                        
                $sql="INSERT INTO dt_marker (name, address, lat, lng, category, id_kabupaten, id_kecamatan, id_kelurahan, hrg_dew, hrg_ank, idktp) VALUES ('$nama','$alt','$lat','$long','$cat','$kabu','$kec','$kel','$hde','$han','$ktp')";
                $result = mysql_query($sql);
                 
                if ($result) {
                   echo "<script>alert('Berhasil menyimpan data tempat wisata');window.location='dw4.php'</script>";
                } else {
                   echo "<script>alert('Gagal Simpan');window.location='dw4.php'</script>".mysql_error();
                   
                }
            }
            
      ?>  

</body>
</html>
